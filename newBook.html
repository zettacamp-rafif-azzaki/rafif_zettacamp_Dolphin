<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <title>Book Storage</title>
    </head>
    <body>
        <h3>Input Books</h3>
        <form name="myForm" action="/index.html" onsubmit="return validateForm()" method="get">
            <table class="mp0">
                <tr>
                    <td><label for="name">Name: </label></td>
                    <td><input id="name" type="text" /></td>
                </tr>
                <tr>
                    <td><label for="total_count">Total Count: </label></td>
                    <td><input id="total_count" type="text" /></td>
                </tr>
                <tr>
                    <td><label for="author">Author: </label></td>
                    <td><input id="author" type="text" /></td>
                </tr>
                <tr>
                    <td><label for="description">Description: </label></td>
                    <td><input id="description" type="text" /></td>
                </tr>
                <tr>
                    <td></td>
                    <td><input type="submit"></td>
                </tr>
            </table>
        </form>
    </body>
    <script>
        function validateForm(){
            let name = document.forms["myForm"]["name"].value;
            let total_count = document.forms["myForm"]["total_count"].value;
            let author = document.forms["myForm"]["author"].value;
            let description = document.forms["myForm"]["description"].value;
            console.log(name + " ");
            if (name == "" || total_count == "" || author == "" || description == "" ) {
                alert("one field is empty");
                return false;
            }

            let array = []
            console.log(x);
        }

        let globalTableData = [];
            function SetTableData(items) {
                globalTableData = GetTableData();
                if(globalTableData == null)
                    globalTableData = []
                
                items.forEach( item => {
                    globalTableData.push({name: item.name, total_count: item.total_count, author: item.author, description: item.description});
                });
                localStorage.setItem("BookData", JSON.stringify(globalTableData));
                
                console.log(globalTableData);
            }

            function GetTableData(){
                let tableData = [];
                tableData = JSON.parse(localStorage.getItem('BookData'));
                return tableData;
            }
    </script>
</html>